#!/bin/sh

0_vokoscreen_OK
1_vlc_convert_reduce_size_OK
edit_with_avidemux
edit_with_lives
edit_with_vlc
istanbul_KO


# webinar cisco webex (allinea)
.arf = closed src format
=> must screen capture:
## mac:
0/ start cisco "network player"
1/ start loopback (add "network player" as src) + sound preferences (idem for output)
2/ start quicktime: new screen capture (loopback limited to 20minutes => split), stop, reset preferences.
3/ save quicktime movie (.mov)
4/ imovie (= mov2mp4) ~15min takes ~10min to convert
5/ youtube


% xset -q











# => /apps/common/UES/sandbox/jgp/handbrake/HandBrake-0.10.2/build/HandBrakeCLI -i in -o out --preset Normal

export PKG_CONFIG_PATH=/apps/common/UES/sandbox/jgp/easybuild/software/libxml2/2.9.3/lib/pkgconfig:$PKG_CONFIG_PATH
export LIBXML2_CFLAGS=`pkg-config libxml-2.0 --cflags`
export LIBXML2_LIBS=`pkg-config libxml-2.0 --libs`

./configure --disable-gtk --disable-gst --optimize=size --disable-x265 --prefix=/apps/common/UES/sandbox/jgp/handbrake/0.10.2/gnu434
cd build ; make

wget ftp://ftp.videolan.org/pub/x264/snapshots/last_x264.tar.bz2
cd HandBrake-0.10.2/libhb/
ln -s ../../x264-snapshot-20151217-2245/x264_config.h
ln -s ../../x264-snapshot-20151217-2245/x264.h
ass.h -> ../build/contrib/ffmpeg/libav-v10.1/libavcodec/ass.h


./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/lame/3.99.5/gnu434
./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434
./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/libogg/1.3.1/gnu434
./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/libvorbis/1.3.3/gnu434 --with-ogg=/apps/common/UES/sandbox/jgp/handbrake/libogg/1.3.1/gnu434
./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/fribidi/0.19.7/gnu434
export PKG_CONFIG_PATH=/apps/common/UES/sandbox/jgp/handbrake/fribidi/0.19.7/gnu434/lib/pkgconfig:$PKG_CONFIG_PATH
./configure --disable-require-system-font-provider --prefix=/apps/common/UES/sandbox/jgp/handbrake/libass/0.13.1/gnu434
./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/libsamplerate/0.1.8/gnu434
export PKG_CONFIG_PATH=/apps/common/UES/sandbox/jgp/handbrake/libsamplerate/0.1.8/gnu434/lib/pkgconfig:$PKG_CONFIG_PATH

./configure --prefix=/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434 --with-ogg=/apps/common/UES/sandbox/jgp/handbrake/libogg/1.3.1/gnu434


/usr/bin/g++ -pipe -Wl,-S -fmessage-length=0 -Wall -g0 -Os -DUSE_X265 -I./libhb/ -I./contrib/include -o HandBrakeCLI -Wl,--start-group test/parsecs
v.o test/test.o ./libhb/libhandbrake.a -L./contrib/lib -lass -lavcodec -lavformat -lavutil -lavresample -ldvdnav -ldvdread -lfontconfig -lfribidi -
lmp3lame -logg -lsamplerate -lswscale -lvpx -ltheoraenc -ltheoradec -lvorbis -lvorbisenc -lx264 -lbluray -lfreetype -lxml2 -lbz2 -lz -lfdk-aac -lx2
65 -lpthread -ldl -lm -Wl,--end-group \
-L/apps/common/UES/sandbox/jgp/handbrake/libass/0.13.1/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/fribidi/0.19.7/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/lame/3.99.5/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/libogg/1.3.1/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/libvorbis/1.3.3/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/libsamplerate/0.1.8/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/easybuild/software/zlib/1.2.8/lib \
-L/apps/common/UES/sandbox/jgp/easybuild/software/libxml2/2.9.3/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/x264/20151217-2245/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434/lib \
-L/apps/common/UES/sandbox/jgp/easybuild/software/bzip2/1.0.6/lib

export LD_LIBRARY_PATH=/apps/common/UES/sandbox/jgp/handbrake/libass/0.13.1/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/fribidi/0.19.7/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/lame/3.99.5/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/libogg/1.3.1/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/libvorbis/1.3.3/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/libsamplerate/0.1.8/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434/lib:\
/apps/common/UES/sandbox/jgp/easybuild/software/zlib/1.2.8/lib:\
/apps/common/UES/sandbox/jgp/easybuild/software/libxml2/2.9.3/lib:\
/apps/common/UES/sandbox/jgp/handbrake/x264/20151217-2245/gnu434/lib:\
/apps/common/UES/sandbox/jgp/handbrake/libtheora/1.1.1/gnu434/lib:\
/apps/common/UES/sandbox/jgp/easybuild/software/bzip2/1.0.6/lib:$LD_LIBRARY_PATH




crop
crop
crop
https://wiki.videolan.org/Documentation:Modules/crop/
cvlc --video-filter=croppadd --croppadd-croptop=62 --croppadd-cropbottom=80 --croppadd-cropleft=125 --croppadd-cropright=385 AA.mp4 


# rip DVD with svn.handbrake.fr
# ffmpeg: Get a thumbnail from a movie using ffmpeg:
ffmpeg -i <filetest.mp4> -f singlejpeg -t 0.001 test.jpg
