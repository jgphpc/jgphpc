# Definitions for www.cscs.ch Piz Daint system

#---------------------------------------------------------------------------
# BATCH Scheduler
#---------------------------------------------------------------------------
SLURM_COMMAND = srun -t1 -n1 -Cgpu
# -CP100 -pworkq
BATCH_SCHEDULER = $(SLURM_COMMAND)

CUDA_MODULE = cudatoolkit
#---------------------------------------------------------------------------
# compilers
#---------------------------------------------------------------------------
CC=cc 
CXX=CC
FC=#

CCOMPILERS?="cc"
CXXCOMPILERS?="CC"
# CCOMPILERS?="cc, gcc"
# CXXCOMPILERS?="CC, clang++, g++, xlc++"

# C_VERSION = cc -V 2>&1 | grep --color -o "Version [.0-9a-zA-Z]* " | sed "s/Version //g"
# --------------
# PGI compilers
ifeq ($(PE_ENV), PGI)
  C_VERSION = echo pgi/$(PGI_VERSION)
  CXX_VERSION = echo pgi/$(PGI_VERSION)
#	C_VERSION = echo pgi/$(PGI_VERSION)
#	CXX_VERSION = echo pgi/$(PGI_VERSION)
endif

# --------------
# CRAY compilers
ifeq ($(PE_ENV), CRAY)
  C_VERSION = echo cce/$(CRAY_CC_VERSION)
  CXX_VERSION = echo cce/$(CRAY_CC_VERSION)
#	C_VERSION = echo cce/$(CRAY_CC_VERSION)
#	CXX_VERSION = echo cce/$(CRAY_CC_VERSION)
#	#C_COMPILER_MODULE = PrgEnv-cray cce/8.7.7 craype-accel-nvidia60 craype/2.5.17.1 cray-mpich/7.7.4.5
endif

# --------------
# GNU compilers
ifeq ($(PE_ENV), GNU)
  C_VERSION = echo gcc/$(GNU_VERSION)
  CXX_VERSION = echo gcc/$(GNU_VERSION)
endif

# --------------
# GNU compilers
#ifeq ($(CC), gcc)
#endif
#
#ifeq ($(CXX), g++)
#endif

